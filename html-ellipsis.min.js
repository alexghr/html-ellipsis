!function(e,n){"use strict";"function"==typeof define&&define.amd?define([],n):"undefined"!=typeof exports?module.exports=n():e.htmlEllipsis=n()}(this,function(){"use strict";function e(e,n){var r=e.indexOf(">",n);return e.slice(n,r+1)}function n(e){return"/"===e[1]}function r(e){var n=e.indexOf(" ");return-1===n&&(n=e.indexOf("/"),-1===n&&(n=e.length-1)),e.slice(1,n)}function t(e){for(var n=i.length-1;n>=0;--n)if(e===i[n])return!0;return!1}var i=["area","base","br","col","command","embed","hr","img","input","link","meta","param","source","wbr"];return function(i,f,u){var l=i.length;if(f>=l)return i;u&&--f;for(var o=0,a=0,s=[];l>o&&f>a;)if("<"===i[o]){var c=e(i,o);if(o+=c.length,n(c))s.pop();else{var d=r(c);t(d)||s.push(d)}}else++a,++o;for(var h=i.slice(0,o),p=s.length-1;p>=0;--p)h+="</"+s[p]+">";return u&&h.length<i.length&&(h+="&hellip;"),h}});